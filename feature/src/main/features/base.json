
{
    "bundles":[
        {
            "id":"commons-codec:commons-codec:1.14",
            "start-order":"5"
        },
        {
            "id":"commons-collections:commons-collections:3.2.2",
            "start-order":"15"
        },
        {
            "id":"javax.mail:mail:1.5.0-b01",
            "start-order":"20"
        },
        {
            "id":"org.apache.commons:commons-collections4:4.4",
            "start-order":"15"
        },
        {
            "id":"org.apache.commons:commons-math:2.2",
            "start-order":"20"
        },
        {
            "id":"org.apache.geronimo.bundles:jstl:1.2_1",
            "start-order":"20"
        },
        {
            "id":"org.apache.httpcomponents:httpclient-osgi:4.5.10",
            "start-order":"15"
        },
        {
            "id":"org.apache.httpcomponents:httpcore-osgi:4.4.12",
            "start-order":"15"
        },
        {
            "id":"org.apache.sling:org.apache.sling.adapter:2.1.10",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.auth.form:1.0.20",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.bundleresource.impl:2.3.2",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.commons.classloader:1.4.4",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.commons.compiler:2.4.0",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.commons.fsclassloader:1.0.14",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.commons.mime:2.2.2",
            "start-order":"15"
        },
        {
            "id":"org.apache.sling:org.apache.sling.commons.scheduler:2.7.6",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.commons.threads:3.2.20",
            "start-order":"15"
        },
        {
            "id":"org.apache.sling:org.apache.sling.engine:2.7.2",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.fsresource:2.1.16",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.i18n:2.5.14",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.installer.factory.packages:1.0.4",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.installer.hc:2.0.2",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.models.api:1.3.8",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.models.impl:1.4.12",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.resourceresolver:1.7.0",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.serviceusermapper:1.4.4",
            "start-order":"15"
        },
        {
            "id":"org.apache.sling:org.apache.sling.servlets.get:2.1.40",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.servlets.post:2.3.36",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.servlets.resolver:2.7.8",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.xss:2.2.6",
            "start-order":"20"
        },
        {
            "id":"org.apache.felix:org.apache.felix.metatype:1.2.2",
            "start-order":"4"
        },
        {
            "id":"commons-fileupload:commons-fileupload:1.4",
            "start-order":"5"
        },
        {
            "id":"commons-io:commons-io:2.6",
            "start-order":"5"
        },
        {
            "id":"org.apache.aries.jmx:org.apache.aries.jmx.api:1.1.5",
            "start-order":"5"
        },
        {
            "id":"org.apache.aries.jmx:org.apache.aries.jmx.core:1.1.8",
            "start-order":"5"
        },
        {
            "id":"org.apache.aries.jmx:org.apache.aries.jmx.whiteboard:1.2.0",
            "start-order":"5"
        },
        {
            "id":"org.apache.felix:org.apache.felix.bundlerepository:2.0.10",
            "start-order":"5"
        },
        {
            "id":"org.apache.felix:org.apache.felix.http.jetty:4.0.18",
            "start-order":"5"
        },
        {
            "id":"org.apache.felix:org.apache.felix.http.servlet-api:1.1.2",
            "start-order":"5"
        },
        {
            "id":"org.apache.felix:org.apache.felix.http.whiteboard:4.0.0",
            "start-order":"5"
        },
        {
            "id":"org.apache.felix:org.apache.felix.inventory:1.0.6",
            "start-order":"5"
        },
        {
            "id":"org.apache.felix:org.apache.felix.prefs:1.1.0",
            "start-order":"5"
        },
        {
            "id":"org.apache.sling:org.apache.sling.api:2.22.0",
            "start-order":"5"
        },
        {
            "id":"org.apache.sling:org.apache.sling.auth.core:1.5.0",
            "start-order":"5"
        },
        {
            "id":"org.apache.sling:org.apache.sling.extensions.threaddump:0.2.2",
            "start-order":"5"
        },
        {
            "id":"org.apache.felix:org.apache.felix.http.sslfilter:1.2.6",
            "start-order":"10"
        },
        {
            "id":"org.apache.pdfbox:fontbox:2.0.17",
            "start-order":"10"
        },
        {
            "id":"org.apache.pdfbox:jempbox:1.8.16",
            "start-order":"10"
        },
        {
            "id":"org.apache.pdfbox:pdfbox:2.0.17",
            "start-order":"10"
        },
        {
            "id":"org.apache.tika:tika-core:1.24",
            "start-order":"10"
        },
        {
            "id":"org.apache.tika:tika-parsers:1.24",
            "start-order":"10"
        },
        {
            "id":"io.dropwizard.metrics:metrics-core:3.2.6",
            "start-order":"15"
        },
        {
            "id":"org.apache.sling:org.apache.sling.commons.metrics:1.2.8",
            "start-order":"15"
        },
        {
            "id":"org.apache.sling:org.apache.sling.resource.filter:1.0.0",
            "start-order":"15"
        },
        {
            "id":"org.apache.sling:org.apache.sling.provisioning.model:1.8.6",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.repoinit.parser:1.6.2",
            "start-order":"20"
        },
        {
            "id":"org.apache.sling:org.apache.sling.jcr.repoinit:1.1.24",
            "start-order":"20"
        }
    ],
    "configurations":{
        "org.apache.sling.commons.log.LogManager":{
            "org.apache.sling.commons.log.packagingDataEnabled":true,
            "org.apache.sling.commons.log.pattern":"%d{dd.MM.yyyy HH:mm:ss.SSS} *%level* [%thread] %logger %msg%n",
            "org.apache.sling.commons.log.level":"info",
            "org.apache.sling.commons.log.file":"logs/error.log",
            "org.apache.sling.commons.log.file.number:Integer":"7",
            "org.apache.sling.commons.log.file.size":"'.'yyyy-MM-dd"
        },
        "org.apache.sling.engine.impl.log.RequestLogger":{
            "access.log.enabled":true,
            "request.log.outputtype:Integer":"0",
            "access.log.output":"log.access",
            "request.log.output":"log.request",
            "request.log.enabled":true,
            "access.log.outputtype:Integer":"0"
        },
        "org.apache.sling.jcr.davex.impl.servlets.SlingDavExServlet":{
            "alias":"/server"
        },
        "org.apache.sling.jcr.webdav.impl.servlets.SimpleWebDavServlet":{
            "dav.root":"/dav"
        },
        "org.apache.sling.commons.log.LogManager.factory.config~access.log":{
            "org.apache.sling.commons.log.pattern":"%msg%n",
            "org.apache.sling.commons.log.names":[
                "log.access"
            ],
            "org.apache.sling.commons.log.level":"info",
            "org.apache.sling.commons.log.file":"logs/access.log"
        },
        "org.apache.sling.commons.log.LogManager.factory.config~request.log":{
            "org.apache.sling.commons.log.pattern":"%msg%n",
            "org.apache.sling.commons.log.names":[
                "log.request"
            ],
            "org.apache.sling.commons.log.level":"info",
            "org.apache.sling.commons.log.file":"logs/request.log"
        },
        "org.apache.sling.jcr.base.internal.LoginAdminWhitelist.fragment~sling":{
            "whitelist.bundles":[
                "org.apache.sling.discovery.commons",
                "org.apache.sling.discovery.base",
                "org.apache.sling.discovery.oak",
                "org.apache.sling.i18n",
                "org.apache.sling.jcr.base",
                "org.apache.sling.jcr.contentloader",
                "org.apache.sling.jcr.jackrabbit.usermanager",
                "org.apache.sling.jcr.oak.server",
                "org.apache.sling.jcr.repoinit",
                "org.apache.sling.servlets.post"
            ],
            "whitelist.name":"sling"
        },
        "org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.amended~i18n":{
            "user.mapping":[
                "org.apache.sling.i18n=sling-i18n"
            ]
        },
        "org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.amended~installer-factories":{
            "user.mapping":[
                "org.apache.sling.installer.factory.packages=sling-package-install"
            ]
        },
        "org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.amended~jcr-install":{
            "user.mapping":[
                "org.apache.sling.installer.provider.jcr=sling-jcr-install"
            ]
        },
        "org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.amended~jcr-resource":{
            "user.mapping":[
                "org.apache.sling.jcr.resource:validation=sling-readall"
            ]
        },
        "org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.amended~observation":{
            "user.mapping":[
                "org.apache.sling.jcr.resource:observation=sling-readall"
            ]
        },
        "org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.amended~resourceresolver":{
            "user.mapping":[
                "org.apache.sling.resourceresolver:mapping=sling-mapping",
                "org.apache.sling.resourceresolver:hierarchy=sling-readall",
                "org.apache.sling.resourceresolver:observation=sling-readall",
                "org.apache.sling.resourceresolver:console=sling-readall"
            ]
        },
        "org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.amended~servletsresolver":{
            "user.mapping":[
                "org.apache.sling.servlets.resolver:console=sling-readall",
                "org.apache.sling.servlets.resolver:scripts=sling-scripting"
            ]
        },
        "org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.amended~xss":{
            "user.mapping":[
                "org.apache.sling.xss=sling-xss"
            ]
        }
    },
    "repoinit:TEXT|true":[
        "# general",
        "create path (sling:OrderedFolder) /content",
        "set ACL for everyone",
        "allow   jcr:read   on /content",
        "end",
        "",
        "# sling-mapping",
        "create service user sling-mapping",
        "",
        "set ACL for sling-mapping",
        "allow   jcr:read    on /",
        "end",
        "",
        "# sling-readall",
        "create service user sling-readall",
        "",
        "set ACL for sling-readall",
        "allow   jcr:read    on /",
        "end",
        "",
        "# sling-xss",
        "create service user sling-xss",
        "",
        "create path (sling:Folder) /apps/sling/xss",
        "",
        "set ACL for sling-xss",
        "allow   jcr:read    on /apps/sling/xss",
        "end",
        "",
        "# sling-i18n",
        "create service user sling-i18n",
        "",
        "set ACL for sling-i18n",
        "allow   jcr:read    on /",
        "end",
        "",
        "# sling-jcr-install",
        "create service user sling-jcr-install",
        "",
        "# used for config OSGi writeback",
        "create path (sling:Folder) /apps/sling/install",
        "",
        "set ACL for sling-jcr-install",
        "allow    jcr:read    on    /",
        "allow    rep:write    on /apps/sling/install",
        "end",
        "",
        "# content-package installer",
        "create service user sling-package-install",
        "",
        "set ACL for sling-package-install",
        "allow    jcr:all     on    /",
        "allow   jcr:namespaceManagement,jcr:nodeTypeDefinitionManagement on :repository",
        "end"
    ]
}
